import{d as q,G as A,C as B,r as i,D as E,m as F,H as K,b,o as J,j as L,w as n,h as d,x as r,y as M,i as f,t as m,f as O,k as S,bJ as Q,_ as R,__tla as W}from"./index-acc4e75c.js";import{D as X,a as Y,d as Z,__tla as aa}from"./details-26922fcb.js";import{u as ea,__tla as la}from"./useHandleData-c1bd5ee3.js";import{__tla as ta}from"./fatherChild.vue_vue_type_script_setup_true_lang-40ed1c1f.js";let H,ra=Promise.all([(()=>{try{return W}catch{}})(),(()=>{try{return aa}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return ta}catch{}})()]).then(async()=>{let V,j;V={class:"container-router"},j={class:"custom-tree-node"},H=R(q({__name:"index",setup(sa){const $=A(),{t:s}=B(),y=i(null),C=i(""),z=i(),G={label:"title"},h=i([]),I=i([]),k=i([]);E(C,t=>{z.value.filter(t)});const N=t=>[].concat(...t.map(e=>{if(e.children){let l=[].concat(e,N(e.children));return delete e.children,l}return[].concat(e)})),U=(t,e,l)=>{if(!t)return!0;let u=l.parent,_=[l.label],v=1;for(;v<l.level;)_=[..._,u.label],u=u.parent,v++;return _.some(D=>D.indexOf(t)!==-1)},o=async()=>{try{const{success:t,data:{list:e}}=await Y();if(!t)return;h.value=e;let l=JSON.parse(JSON.stringify(e));k.value=N(l)}catch{}};return F(()=>{K(()=>{o()})}),(t,e)=>{const l=b("el-button"),u=b("el-input"),_=b("el-tree"),v=b("el-scrollbar"),D=b("el-card");return J(),L(D,{style:{height:"calc(100vh - 170px)"}},{default:n(()=>[d(l,{type:"primary",size:"default",onClick:e[0]||(e[0]=a=>((g,x)=>{var w;const c={title:g,row:{...x},getTableList:o,tableData:k.value};(w=y.value)==null||w.acceptParams(c)})("\u65B0\u589E\u6700\u5916\u5C42")),icon:r(M)},{default:n(()=>[f(m(r(s)("excel.add")),1)]),_:1},8,["icon"]),O("div",V,[d(v,{height:"70vh"},{default:n(()=>[d(u,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=a=>C.value=a),placeholder:r(s)("excel.filter"),style:{marginTop:"10px"}},null,8,["modelValue","placeholder"]),d(_,{ref_key:"tree",ref:z,props:G,data:h.value,"node-key":"id","default-checked-keys":I.value,"highlight-current":"",style:{"margin-top":"10px"},"check-strictly":"","filter-node-method":U},{default:n(({node:a,data:g})=>[O("div",j,[f(m(r($).language=="zh"?a.label:a.label!="\u65B0\u589E"&&a.label!="\u7F16\u8F91"&&a.label!="\u5220\u9664"&&a.label!="\u67E5\u770B"&&a.label!="\u5BFC\u5165"&&a.label!="\u5BFC\u51FA"&&a.label!="\u6A21\u7248\u4E0B\u8F7D"?r(s)(`components.${g.name}`):r(s)(`excel.${g.title}`))+" ",1),O("span",null,[a.label!="\u65B0\u589E"&&a.label!="\u7F16\u8F91"&&a.label!="\u5220\u9664"&&a.label!="\u67E5\u770B"&&a.label!="\u5BFC\u5165"&&a.label!="\u5BFC\u51FA"&&a.label!="\u6A21\u7248\u4E0B\u8F7D"?(J(),L(l,{key:0,type:"primary",link:"",onClick:x=>((c,w,P)=>{var p;const T={title:P,row:{...c},getTableList:o,tableData:k.value};(p=y.value)==null||p.acceptParams(T)})(a,0,"\u65B0\u589E")},{default:n(()=>[f(m(r(s)("excel.add")),1)]),_:2},1032,["onClick"])):S("",!0),d(l,{type:"primary",link:"",onClick:x=>((c,w,P)=>{var p;const T={title:P,row:{...c},getTableList:o,tableData:k.value};(p=y.value)==null||p.acceptParams(T)})(a,0,"\u7F16\u8F91")},{default:n(()=>[f(m(r(s)("excel.edit")),1)]),_:2},1032,["onClick"]),d(l,{type:"danger",link:"",style:{margin:"0 8px"},onClick:x=>(async c=>{await ea(Z,{id:c.data.id},s("excel.delete")),await o(),await Q()})(a)},{default:n(()=>[f(m(r(s)("excel.delete")),1)]),_:2},1032,["onClick"])])])]),_:1},8,["data","default-checked-keys"])]),_:1})]),h.value.length>0?(J(),L(X,{key:0,ref_key:"detail",ref:y,tableData:h.value},null,8,["tableData"])):S("",!0)]),_:1})}}}),[["__scopeId","data-v-d24290dd"]])});export{ra as __tla,H as default};
